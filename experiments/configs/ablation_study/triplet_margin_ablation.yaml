# Triplet Margin (α) Ablation Study Configuration
# 
# This configuration tests the sensitivity of triplet margin parameter (α)
# in the local_triplet_loss function. The triplet margin controls the separation
# between positive (minority) and negative (majority) samples in the embedding space.
#
# Reference: Learning Majority-to-Minority Transformations with MMD and Triplet Loss
#            for Imbalanced Classification (arXiv:2509.11511)
#
# Reproducibility: Fixed seed (1203) for all random operations
# Metrics: AUROC, G-mean, MCC, F1-score

experiment_name: "triplet_margin_ablation"
parameter_name: "triplet_margin"
parameter_values: [0.1, 0.5, 2.0, 5.0]

# Model configurationf
model:
  n_epochs: 2000
  lr: 0.001
  hidden_dims: [16, 32, 64, 128]
  latent_dim: 256
  residual: true
  median_bw: true
  seed: 1203  # Fixed seed for model initialization and training reproducibility
  
# Fixed hyperparameters (other than the one being ablated)
fixed_params:
  mmd_sigma: 1.0  # MMD kernel bandwidth (will be tested separately)
  danger_k: 5     # Danger set k value (will be tested separately)
  lambda_beta: 0.01  # Lambda weight (will be tested separately)
  triplet_alpha: 0.3  # Alpha in triplet loss (not the margin)
  
# Training configuration
training:
  device: "cuda:1"  # Will fallback to "cpu" if CUDA unavailable
  kernel_type: "gaussian"
  loss_params: {}
  
# Evaluation configuration
evaluation:
  n_runs: 10
  n_splits: 10  # 10-fold cross-validation
  random_state: 1203  # Fixed seed for reproducibility (paper standard)
  seed: 1203  # Additional seed parameter for consistency
  metrics:
    - "roc_auc"      # AUROC: Area Under the ROC Curve
    - "g_mean"       # G-mean: Geometric mean of sensitivity and specificity
    - "mcc"          # MCC: Matthews Correlation Coefficient
    - "f1_score"     # F1-score: Harmonic mean of precision and recall
    
# Dataset configuration
# 29 datasets from the paper: Learning Majority-to-Minority Transformations
# with MMD and Triplet Loss for Imbalanced Classification (arXiv:2509.11511)
datasets:
  # Local .dat files
  - name: "abalone19"
    path: "data/raw/abalone19.dat"
    imbalance_ratio: "~129.4:1"
    n_features: 8
    
  - name: "abalone9-18"
    path: "data/raw/abalone9-18.dat"
    imbalance_ratio: "~16.4:1"
    n_features: 8
    
  - name: "cleveland-0_vs_4"
    path: "data/raw/cleveland-0_vs_4.dat"
    imbalance_ratio: "~12.6:1"
    n_features: 13
    
  - name: "ecoli3"
    path: "data/raw/ecoli3.dat"
    imbalance_ratio: "~8.6:1"
    n_features: 7
    
  - name: "ecoli4"
    path: "data/raw/ecoli4.dat"
    imbalance_ratio: "~15.8:1"
    n_features: 7
    
  - name: "glass-0-1-2-3_vs_4-5-6"
    path: "data/raw/glass-0-1-2-3_vs_4-5-6.dat"
    imbalance_ratio: "~3.2:1"
    n_features: 9
    
  - name: "glass-0-1-6_vs_5"
    path: "data/raw/glass-0-1-6_vs_5.dat"
    imbalance_ratio: "~19.4:1"
    n_features: 9
    
  - name: "glass4"
    path: "data/raw/glass4.dat"
    imbalance_ratio: "~15.5:1"
    n_features: 9
    
  - name: "pima"
    path: "data/raw/pima.dat"
    imbalance_ratio: "~1.9:1"
    n_features: 8
    
  - name: "segment0"
    path: "data/raw/segment0.dat"
    imbalance_ratio: "~6.0:1"
    n_features: 19
    
  - name: "winequality-red-3_vs_5"
    path: "data/raw/winequality-red-3_vs_5.dat"
    imbalance_ratio: "~68.1:1"
    n_features: 11
    
  - name: "winequality-red-4"
    path: "data/raw/winequality-red-4.dat"
    imbalance_ratio: "~29.2:1"
    n_features: 11
    
  - name: "winequality-white-3_vs_7"
    path: "data/raw/winequality-white-3_vs_7.dat"
    imbalance_ratio: "~44.0:1"
    n_features: 11
    
  - name: "winequality-white-3-9_vs_5"
    path: "data/raw/winequality-white-3-9_vs_5.dat"
    imbalance_ratio: "~58.3:1"
    n_features: 11
    
  - name: "yeast-0-5-6-7-9_vs_4"
    path: "data/raw/yeast-0-5-6-7-9_vs_4.dat"
    imbalance_ratio: "~9.4:1"
    n_features: 8
    
  - name: "yeast-1-2-8-9_vs_7"
    path: "data/raw/yeast-1-2-8-9_vs_7.dat"
    imbalance_ratio: "~30.6:1"
    n_features: 8
    
  - name: "yeast-1-4-5-8_vs_7"
    path: "data/raw/yeast-1-4-5-8_vs_7.dat"
    imbalance_ratio: "~22.1:1"
    n_features: 8
    
  - name: "yeast4"
    path: "data/raw/yeast4.dat"
    imbalance_ratio: "~28.1:1"
    n_features: 8
    
  - name: "yeast6"
    path: "data/raw/yeast6.dat"
    imbalance_ratio: "~41.4:1"
    n_features: 8
    
  # Datasets from imblearn.datasets.fetch_datasets()
  - name: "arrhythmia"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~17.0:1"
    n_features: 278
    
  - name: "coil_2000"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~16.0:1"
    n_features: 85
    
  - name: "oil"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~22.0:1"
    n_features: 49
    
  - name: "ozone_level"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~34.0:1"
    n_features: 72
    
  - name: "scene"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~13.0:1"
    n_features: 294
    
  - name: "sick_euthyroid"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~9.8:1"
    n_features: 42
    
  - name: "solar_flare_m0"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~19.0:1"
    n_features: 32
    
  - name: "thyroid_sick"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~15.0:1"
    n_features: 52
    
  - name: "us_crime"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~12.0:1"
    n_features: 100
    
  - name: "wine_quality"
    path: "imblearn"  # Loaded via imblearn.datasets.fetch_datasets()
    imbalance_ratio: "~26.0:1"
    n_features: 11

# Output configuration
output:
  results_dir: "results/ablation_study/triplet_margin"
  figures_dir: "figures/ablation_study/triplet_margin"
  log_dir: "logs/ablation_study/triplet_margin"

